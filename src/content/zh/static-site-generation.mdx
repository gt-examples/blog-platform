---
title: "多语言应用的静态站点生成"
description: "如何使用静态站点生成在构建时预渲染多语言页面，以获得最佳性能和 SEO。"
date: "2025-02-10"
author: "Maria Santos"
tags: ["SSG", "performance", "Next.js"]
---

静态站点生成是构建多语言网站的一种强大方式。通过在构建时预渲染页面，你可以为每个语言环境提供快速且可缓存的 HTML，而无需在运行时引入翻译处理的额外开销。

## 性能考量

当东京的用户请求你的日文页面时，他们会从附近的 CDN 边缘节点获取一份预构建的 HTML 文件。没有服务端渲染延迟，没有对翻译服务的 API 调用，也不会在加载翻译时产生布局跳动。页面从第一个字节起就是完整的。

这比你想象的更重要。研究一再表明，每增加 100ms 的加载时间，转化率就会下降。对于本就可能面临更高网络延迟的国际用户来说，消除不必要的往返请求至关重要。

## 在 Next.js 中的工作原理

Next.js 提供了 `generateStaticParams`，用于定义哪些参数组合应被预渲染。对于多语言博客，这意味着需要为每一种语言环境与内容 slug 的组合生成对应的页面。

```typescript
export async function generateStaticParams() {
  const locales = ["en", "es", "fr", "ja"];
  const posts = getAllPostSlugs();

  return locales.flatMap((locale) =>
    posts.map((slug) => ({ locale, slug }))
  );
}
```

在构建阶段，Next.js 会针对每一组参数调用一次页面组件，生成可部署到任意 CDN 的静态 HTML 文件。


## SEO 优势

搜索引擎会将每个特定语言的 URL 视为独立页面。使用 SSG 时，你可以确保：

- 每个本地化页面都具有正确的 `<html lang>` 属性。
- 标题和描述等元数据已完成翻译。
- 页面加载速度快，这会影响排名。
- 内容在 HTML 源码中已完全渲染，而不是依赖客户端 hydrate 后再渲染。

## 权衡取舍

静态生成并不适合所有页面。那些频繁变更的内容，或需要针对每个用户进行个性化的内容，仍然需要服务端或客户端渲染。但对于博客文章、文档、营销页以及其他相对稳定的内容来说，SSG 是更优的选择。

构建时间会随语言环境和页面数量线性增长。对于一个有 50 篇文章、5 个语言环境的博客来说，需要生成 250 个页面。现代构建工具可以高效处理这一规模，但随着站点的增长，这一点仍然值得关注。