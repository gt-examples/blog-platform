---
title: "多言語アプリのための静的サイト生成"
description: "最適なパフォーマンスとSEOのために、ビルド時に多言語ページを事前レンダリングするための静的サイト生成の使い方。"
date: "2025-02-10"
author: "Maria Santos"
tags: ["SSG", "performance", "Next.js"]
---

静的サイト生成は、多言語対応サイトにとって強力なアプローチです。ビルド時にページを事前レンダリングしておくことで、各ロケール向けに、高速でキャッシュ可能なHTMLを、実行時の翻訳オーバーヘッドなしで配信できます。

## パフォーマンス面でのメリット

東京のユーザーがあなたの日本語ページをリクエストすると、近くのCDNエッジノードから、あらかじめビルドされたHTMLファイルが配信されます。サーバーサイドレンダリングによる遅延も、翻訳サービスへのAPIコールもなく、翻訳の読み込みによるレイアウトシフトも発生しません。ページは最初の1バイトを受け取った時点で完成しています。

これは想像以上に重要です。読み込み時間が100ミリ秒増えるごとにコンバージョン率が下がることは、さまざまな調査で一貫して示されています。すでにレイテンシが高くなりがちな海外のユーザーにとっては、不要な往復通信をなくすことが特に重要です。

## Next.js での仕組み

Next.js は、どのパラメータの組み合わせを事前レンダリングするかを定義するための `generateStaticParams` を提供します。多言語ブログの場合、これはロケールとコンテンツのスラッグのあらゆる組み合わせに対してページを生成することを意味します。

```typescript
export async function generateStaticParams() {
  const locales = ["en", "es", "fr", "ja"];
  const posts = getAllPostSlugs();

  return locales.flatMap((locale) =>
    posts.map((slug) => ({ locale, slug }))
  );
}
```

ビルド時、Next.js は各パラメーターセットごとにページコンポーネントを 1 回ずつ呼び出し、任意の CDN にデプロイできる静的 HTML ファイルを生成します。


## SEO 上の利点

検索エンジンは、ロケールごとの URL をそれぞれ別個のページとして扱います。SSG を使うことで、次の点を確保できます。

- すべてのローカライズ済みページに適切な `<html lang>` 属性を付与できる。
- タイトルやディスクリプションなどのメタデータを翻訳できる。
- ページの読み込みが高速になり、これはランキング要因のひとつになる。
- コンテンツがクライアント側でのハイドレーションではなく、HTML ソース内で完全にレンダリングされる。

## トレードオフ

静的サイト生成（SSG）は、すべてのページに適しているわけではありません。頻繁に更新されるコンテンツや、ユーザーごとにパーソナライズされるコンテンツには、依然としてサーバーサイドまたはクライアントサイドでのレンダリングが必要です。一方で、ブログ記事、ドキュメント、マーケティングページなど比較的安定したコンテンツには、SSG が最適です。

ビルド時間は、ロケール数とページ数に比例して増加します。たとえば、50 本のブログ記事と 5 つのロケールを持つブログの場合、生成すべきページは 250 になります。モダンなビルドツールはこれを効率的に処理できますが、サイトが成長するにつれて監視しておく価値があります。